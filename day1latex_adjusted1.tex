\documentclass[a4paper,10pt]{report} % {article}
%\documentclass[a4paper,10pt]{scrartcl}


\input{./latex/in1header.tex}

\title{Advanced LaTeX Workshop}
\author{Your Name Here}
\date{19 June 2023} 

\pdfinfo{%
  /Title    (Advance LaTeX Workshop) 
  /Author   (Your Name Here)
  /Creator  (Your Name Here)
  /Producer (InScAPE)
  /Subject  (Intermediate and Advanced LaTeX)
  /Keywords (listing, tikz, macrtos)
}
 
\begin{document}
% later: #4 generating index 
%--------------
%\makeindex
%--------------


% \maketitle
 \pagestyle{fancy}
 
%-------- Workshop overview-------------------------------
 We are organising an informal \textbf{workshop} on the \textbf{intermediate and advanced topics} in \LaTeX.
Although there are various \LaTeX tutorials and templates floating around, but they often omit some tools and packages that are useful in meteorology and geophysics. The workshop is primary focused on PhD students who are starting to write their thesis, but it is open to other \LaTeX users as well.
 \begin{enumerate}
 \item  Monday 19. June --- from 12:45 in CIP room 
 \item  Wednesday 21. June --- from 15:00 in CIP room
\end{enumerate}

\noindent
You can work from CIP workstation or bring your own device.~\\

 \begin{tabular}{l p{0.7\textwidth}}
   target audience: & people with previous experience with \LaTeX \\
   aims:  & discuss \LaTeX ~topics practise skills \\
   duration: & one and half hour from start time or until you start getting tired \\
   topics: & see following sections \ref{sec:monday} and \ref{sec:wednesday} \\
   registration: & comment in this Slack thread \\ 
 \end{tabular}

%-----------------------------------------------------------------------------
 
\section{Monday} \label{sec:monday}

\pagenumbering{arabic} 
\setcounter{page}{1}


\subsection{Combining Document from Pieces}
Combining documents from multiple files speeds up the editing process, makes collaboration easier, and also lowers the risk of accidentally rewriting something. You can see an example how most of the header of this document is in a separate file.
% #1 
To try this, write some dummy text in a separate file and insert is here using the \texttt{input} command:\\
\input{./data/just2lines.txt}

% #2 
The \texttt{input} statement can also work on multiple levels
\begin{enumerate}
    \item Make a copy of \texttt{style1headerfooter.tex} and modify it.
    \item Open \texttt{in1header.tex} and replace \texttt{style1headerfooter.tex} with the name of your new file.
    \item Recompile the main document.
\end{enumerate} 



\subsection{Automatically Generated Lists}\label{sec:automatic}
There is an easy way how to create list of figures, tables, as well as index of phrases. 
 See on the following page: 

% We are going to start witth this documet
%  #1 change the class of document from article to report
%  


\maketitle
\pagenumbering{roman}
%   \let\clearpage\relax 
   \tableofcontents
    \label{contents}
   \addcontentsline{toc}{section}{Table of Contents}  
   \let\clearpage\relax
   \addcontentsline{toc}{section}{List of Tables}
    \listoftables    
   \addcontentsline{toc}{section}{List of Figures} 
   \let\clearpage\relax 
   \listoffigures
    \chapter*{List of Symbols}
   \addcontentsline{toc}{section}{List of Symbols}
   \input{./latex/list_symbols.tex}  
% \newpage

\setcounter{chapter}{1}
\setcounter{figure}{1} 
\addcontentsline{lof}{figure}{ \arabic{chapter}.\arabic{figure}  Fake Figure} 

\newpage

\setcounter{chapter}{2}
\newcounter{warning}[chapter]
\pagenumbering{arabic}
\chapter{Monday} 

 \setcounter{section}{2}
 \setcounter{subsection}{7}
 \section{Counters}\label{sec:counters}
How did we suddenly jump from section \ref{sec:figures} to \ref{sec:counters}  ? We are now in the chapter \arabic{chapter} or \Roman{chapter} in roman numbers.\\

\addtocounter{subsection}{3}
\subsection{This is Empty Subsection}

\subsection{Modifying counters}

  
  
\subsection{Custom Counters}
Yes, we can also add custom counters, such as numbering of warning messages:\\

 \stepcounter{section}
 \stepcounter{warning}
 Warning \arabic{warning}:  No new ideas here.\\
 \stepcounter{warning}
 
 How have we done this? Firstly, we need to define a new counter
\begin{lstlisting}[language={[latex]tex}, frame=single,basicstyle=\footnotesize]
  \newcounter{warning}[chapter] 
\end{lstlisting}
The first required argument is the name of the counter and the second, optional argument, is when we reset it.
Afterwards we can set and step up this counter in the same way as for the sections. Outputting the values  of the counters also works the same way as for the sections, we just use the name of the counter:
\begin{lstlisting}[language={[latex]tex}, frame=single,basicstyle=\footnotesize]
  Warning \arabic{warning}:  No new ideas here.\\
\end{lstlisting}

\subsection{Counters Interaction}



 \section{Modifying Plots and Schematics}\label{sec:figures}
  Warning \arabic{warning}:  The figure might be boring.\\
 %\newpage
 %\thispagestyle{empty}
 \begin{figure}[h!]
     %\input{./latex/diagram.tex}
      \begin{tikzpicture}[node distance=7mm, auto,]
        %nodes
        \node[point] (market) { \nameref{sec:automatic} };
        \node[point, inner sep=5pt,below=0.5cm of market]
        (conference) {Conferences (see \ref{sec:automatic})};
        % We make a dummy figure to make everything look nice.
        \node[above=of market] (dummy) {};
        \node[right=of dummy] (t) {Poster template}
        edge[pil,bend left=45] (market.east) % edges are used to connect two nodes
        edge[pil, bend left=45] (conference.east); % .east since we want
                                                    % consistent style
        \node[left=of dummy] (g) {Feedback}
        edge[pil, <-,bend right=45] (market.west)
        edge[pil,->, bend left=45] node[auto] {Poster Idea \pageref{fig:standalone} } (t);
    \end{tikzpicture}~\hspace{-2ex}
    \includegraphics[width=0.62\textwidth]{./figures/standalone.pdf}
        \caption[Diagrams and plots]{Here we combine a \textbf{Tikz} diagrams and images. We can also compile the figure as separate \textbf{standalone} \index{standalone} pdf and then include it as a graphical element. }  
      \label{fig:figures}    
 \end{figure}
 
 \subsection{Standalone}
 Some journals request you to upload each figure as a separate pdf. However, what can you do figure consists of multiple panels with labels added in LaTeX? No, you do not need to replot the figure, and you do not need to insert the figure as a separate page. Instead you use \textbf{standalone} class to produce a small image in pdf format. See example \texttt{latex/standalone.tex} of such document.\\
 
 Once you compile a standalone document, you can use it as other graphical elements in pdf format. You can as well include it as an image in this document (see example on the next page).
  
 \begin{figure}[h!]
     %\input{./latex/diagram.tex}
    % ---- directly consrtruction diagram--------------
      % \begin{center}
      \tikzstyle{decision} = [diamond, draw, fill=blue!20, text width=8em, text badly centered, node distance=10em, inner sep=0pt]
      \tikzstyle{block} = [rectangle, draw, fill=blue!20, text width=8em, text centered, rounded corners,node distance=10em ,  minimum height=3em]
      \tikzstyle{block_done} = [rectangle, draw, fill=GreenDone, text width=8em, text centered, node distance=10em, rounded corners, minimum height=3em]
      \tikzstyle{block_special} = [rectangle, draw, fill=lightyellow, text width=8em, text centered, node distance=10em, rounded corners, minimum height=3em]
      \tikzstyle{line} = [draw, -latex']
      \tikzstyle{cloud} = [draw, ellipse, fill=lightyellow, node distance=8em, minimum height=0ex]

  \begin{tikzpicture}[node distance = 4mm, auto] 
    \node [block] (intro)  {1. Introduction};
    \node [block] (theory) at +(8,-0.5) {2. Theory of LEM};
    \node [block_special] (methods) at +(8,-2.5) {3. General Methodology};
    \node [block_special] (idealised) at +(6.5,-4.5) {4. Idealised CAO};
    \node [block_special] (adjusted) at +(6.5,-6.5) {5. Idealised~CAO Adjusted Scenarios};
    \node [block_special] (case_studies) at +(11.5,-7) {6. Case Studies of Cold-Air Outbreaks};  
    \node [block_done] (conclusions) at +(0,-8.5) {7. Conclusions};
    \draw[->,line width=0.8pt] (intro) -- (methods);
    \draw[->,line width=0.8pt] (theory) -- (methods);
    \draw[->,line width=0.8pt] (methods) -- (idealised);
 
    \draw[->,line width=0.8pt] (methods) -- (case_studies);
    \draw[->,line width=0.8pt] (idealised) -- (adjusted);
    \draw[->,line width=0.8pt] (idealised) -- (conclusions);
    \draw[->,line width=0.8pt, dashed](intro) -- (conclusions);
    \draw[-,line width=0.8pt ] (adjusted) -- (6.5, -7.5);
    \draw[-,line width=0.8pt ] (case_studies) -- (11.5, -8.5);
    \draw[->,line width=0.8pt ] (6.5, -7.5) -- (conclusions);
    \draw[->,line width=0.8pt ] (11.5, -8.5) -- (conclusions);
   \end{tikzpicture}~\hspace{-2ex}
   \caption{Here we have a Tikz diagram}
   \label{fig:directly} 
   \end{figure} 
    
    % ---- inserting it from standalone pdf ------------------
   \begin{figure}[h!]
    \includegraphics[width=\textwidth]{./latex/standalone.pdf}
        \caption[Diagrams and plots]{We can also compile the figure as separate \textbf{standalone} \index{standalone} pdf and then include it as a graphical element. }  
      \label{fig:standalone}
 \end{figure}

 \newpage 
 
 \section{Customizing Links, References, and Citations}
 Such as modifying the style of links to other parts of the same document (\nameref{sec:automatic}) and links to \href{https://geomet.uni-koeln.de/en/}{external websites}.
 
 
 \section{Version Control and Comparison}
 We also look at the external tools such as \texttt{latexdiff} that compares two \LaTeX files, and  \texttt{pdfdiff} that compares \( \ldots \) you know what.  
  


% #4 generating index 
%   \clearpage
%   \phantomsection 
%   \addcontentsline{toc}{section}{Index}  
%   \label{index}  
%   Longer documents sometimes include index pages.
%   \printindex  

\section{Outlook for Wednesday}\label{sec:wednesday}

\begin{itemize}
 \item Tables
 \item Macros
 \item Index
\end{itemize}


 
\label{LastPage}
\newpage


\end{document}
